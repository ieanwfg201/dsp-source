<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">

    <bean id="db-manager" class="com.kritter.utils.databasemanager.DatabaseManager"> 
        <constructor-arg index="0" value="jdbc/AdserverDatabase"/>
    </bean>

    <bean id="server_config" class="com.kritter.utils.common.ServerConfig">
        <constructor-arg index="0" value="/var/data/kritter/server.properties"/>
    </bean>

    <bean id="handset_detector" class="com.kritter.device.mad.MadHandsetDetector">
        <constructor-arg index="0" value="handset_detector"/>
        <constructor-arg index="1"><ref bean="handset_os_cache"/></constructor-arg>
        <constructor-arg index="2"><ref bean="handset_manufacturer_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="handset_model_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="mad_ua_file_cache"/></constructor-arg>
    </bean>


    <!-- Targeting targetingmatcher begin. -->
    <bean id="ad_category_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.AdCategoryTargetingMatcher">
        <constructor-arg index="0" value="ad_category_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="campaign_flight_shortlisting" class="com.kritter.adserving.shortlisting.targetingmatcher.CampaignFlightDatesAndBudgetShortlisting">
        <constructor-arg index="0" value="campaign_flight_shortlisting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="campaign_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="campaign_inc_exc_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.CampaignIncExcBySiteTargetingMatcher">
        <constructor-arg index="0" value="campaign_inc_exc_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="account_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="connection_type_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.ConnectionTypeTargetingMatcher">
        <constructor-arg index="0" value="connection_type_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="custom_ip_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.CustomIPTargetingMatcher">
        <constructor-arg index="0" value="custom_ip_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="custom_ip_detector"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="lat_lon_file_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.FileBasedLatLongTargetingMatcher">
        <constructor-arg index="0" value="lat_lon_file_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="lat_lon_file_detector"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="handset_browser_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.HandsetBrowserMatcher">
        <constructor-arg index="0" value="handset_browser_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="handset-master-data"/>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="handset_os_midp_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.HandsetOsOrMidpTargetingMatcher">
        <constructor-arg index="0" value="handset_os_midp_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="handset-master-data"/>
    </bean>

    <bean id="handset_os_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.HandsetOsTargetingMatcher">
        <constructor-arg index="0" value="handset_os_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="handset-master-data"/>
    </bean>

    <bean id="hour_of_day_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.HourOfDayTargetingMatcher">
        <constructor-arg index="0" value="hour_of_day_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="hygiene_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.HygieneTargetingMatcher">
        <constructor-arg index="0" value="hygiene_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="inventory_source_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.InventorySourceTargetingMatcher">
        <constructor-arg index="0" value="inventory_source_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="inventory_source_type_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.InventorySourceTypeTargetingMatcher">
        <constructor-arg index="0" value="inventory_source_type_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="lat_long_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.LatLongTargetingMatcher">
        <constructor-arg index="0" value="lat_long_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="midp_version_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.MidpVersionTargetingMatcher">
        <constructor-arg index="0" value="midp_version_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="handset-master-data"/>
    </bean>

    <bean id="os_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.OSTargetingMatcher">
        <constructor-arg index="0" value="os_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="true"/>
        <constructor-arg index="4"><ref bean="handset_os_targeting"/></constructor-arg>
        <constructor-arg index="5"><ref bean="midp_version_targeting"/></constructor-arg>
        <constructor-arg index="6"><ref bean="handset_os_midp_targeting"/></constructor-arg>
        <constructor-arg index="7" value="ad-nofill-map"/>
    </bean>

    <bean id="site_category_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.SiteCategoryTargetingMatcher">
        <constructor-arg index="0" value="site_category_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="site_domains_exclusion_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.SiteDomainsExclusionTargetingMatcher">
        <constructor-arg index="0" value="site_domains_exclusion_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="device_type_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.DeviceTypeTargetingMatcher">
        <constructor-arg index="0" value="device_type_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="supply_inc_exc_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.SupplyInclusionExclusionTargetingMatcher">
        <constructor-arg index="0" value="supply_inc_exc_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="external_supply_attr_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="zip_code_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.ZipCodeTargetingMatcher">
        <constructor-arg index="0" value="zip_code_targeting"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="zip_code_file_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="zip_code_detector"/></constructor-arg>
        <constructor-arg index="5"><ref bean="ui_country_id_cache"/></constructor-arg>
        <constructor-arg index="6" value="ad-nofill-map"/>
    </bean>

    <bean id="demand_preference_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.DemandPreferenceFilter">
        <constructor-arg index="0" value="demand_preference_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="account_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="creative_targeting_matcher" class="com.kritter.adserving.shortlisting.core.CreativeTargetingMatcher">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="creative_banner_cache"/></constructor-arg>
        <constructor-arg index="2"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="creative_slot_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="creative_slot_size_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="native_icon_cache"/></constructor-arg>
        <constructor-arg index="7"><ref bean="native_screenshot_cache"/></constructor-arg>
        <constructor-arg index="8"><ref bean="account_cache"/></constructor-arg>
        <constructor-arg index="9" value="ad-nofill-map"/>
        <constructor-arg index="10"><ref bean="video_info_cache"/></constructor-arg>
    </bean>

    <bean id="mma_targeting_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.MMATargetingFilterMatcher">
        <constructor-arg index="0" value="mma_targeting_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
    </bean>

    <bean id="adposition_targeting_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.AdPositionTargetingMatcher">
        <constructor-arg index="0" value="adposition_targeting_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
        <constructor-arg index="4"><ref bean="adposition_cache"/></constructor-arg>
    </bean>

    <bean id="frequency_cap_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.FrequencyCapFilter">
        <constructor-arg index="0" value="frequency_cap_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="user_recent_history_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="click_cap_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.ClickCapFilter">
        <constructor-arg index="0" value="click_cap_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="user_recent_click_history_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="campaign_frequency_cap_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.CampaignFrequencyCapFilter">
        <constructor-arg index="0" value="frequency_cap_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="user_recent_history_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
        <constructor-arg index="5"><ref bean="campaign_cache"/></constructor-arg>
    </bean>

    <bean id="campaign_click_cap_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.CampaignClickCapFilter">
        <constructor-arg index="0" value="click_cap_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="user_recent_click_history_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
        <constructor-arg index="5"><ref bean="campaign_cache"/></constructor-arg>
    </bean>

    <bean id="lifetime_ad_imp_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.LifetimeAdImpCapFilter">
        <constructor-arg index="0" value="lifetime_ad_imp_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="user_lifetime_ad_imp_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="lifetime_ad_click_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.LifetimeAdClickCapFilter">
        <constructor-arg index="0" value="lifetime_ad_click_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="user_lifetime_ad_click_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="lifetime_camapaign_imp_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.LifetimeCampaignImpCapFilter">
        <constructor-arg index="0" value="lifetime_campaign_imp_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="campaign_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="user_lifetime_campaign_imp_cache"/></constructor-arg>
        <constructor-arg index="5" value="ad-nofill-map"/>
    </bean>

    <bean id="lifetime_camapaign_click_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.LifetimeCampaignClickCapFilter">
        <constructor-arg index="0" value="lifetime_campaign_click_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="campaign_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="user_lifetime_campaign_click_cache"/></constructor-arg>
        <constructor-arg index="5" value="ad-nofill-map"/>
    </bean>

    <bean id="user_id_inc_exc_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.UserIdIncExcFilter">
        <constructor-arg index="0" value="user_id_inc_exc_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="user_inc_exc_cache"/></constructor-arg>
        <constructor-arg index="4" value="ad-nofill-map"/>
    </bean>

    <bean id="channel_targeting_filter" class="com.kritter.adserving.shortlisting.targetingmatcher.ChannelTargetingMatcher">
        <constructor-arg index="0" value="channel_targeting_filter"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="3" value="ad-nofill-map"/>
        <constructor-arg index="4"><ref bean="channel_cache"/></constructor-arg>
    </bean>

    <bean id="creative_floor_matching_rtb_exchange_two_dot_three" class="com.kritter.adserving.shortlisting.core.CreativeAndFloorMatchingRTBExchangeTwoDotThree">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="creative_banner_cache"/></constructor-arg>
        <constructor-arg index="2"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="creative_slot_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="campaign_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="creative_slot_size_cache"/></constructor-arg>
        <constructor-arg index="7"><ref bean="native_icon_cache"/></constructor-arg>
        <constructor-arg index="8"><ref bean="native_screenshot_cache"/></constructor-arg>
        <constructor-arg index="9" value="ad-nofill-map"/>
        <constructor-arg index="10"><ref bean="video_info_cache"/></constructor-arg>
        <constructor-arg index="11">
            <list>
                <!--1 is for ifa and 3 is for dpdimd5,2 for dpidsha1-->
                <value>1</value>
                <value>3</value>
                <value>2</value>
            </list>
        </constructor-arg>
    </bean>

    <bean id="creative_floor_matching_rtb_exchange_two_dot_two" class="com.kritter.adserving.shortlisting.core.CreativeAndFloorMatchingRTBExchangeTwoDotTwo">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="creative_banner_cache"/></constructor-arg>
        <constructor-arg index="2"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="creative_slot_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="campaign_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="creative_slot_size_cache"/></constructor-arg>
        <constructor-arg index="7" value="ad-nofill-map"/>
        <constructor-arg index="8"><ref bean="video_info_cache"/></constructor-arg>
        <constructor-arg index="9">
            <list>
                <!--1 is for ifa and 3 is for dpdimd5, 2 for dpidsha1-->
                <value>1</value>
                <value>3</value>
                <value>2</value>
            </list>
        </constructor-arg>
    </bean>

    <bean id="creative_floor_matching_rtb_exchange_two_dot_one" class="com.kritter.adserving.shortlisting.core.CreativeAndFloorMatchingRTBExchangeTwoDotOne">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="creative_banner_cache"/></constructor-arg>
        <constructor-arg index="2"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="creative_slot_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="campaign_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="creative_slot_size_cache"/></constructor-arg>
        <constructor-arg index="7" value="ad-nofill-map"/>
        <constructor-arg index="8">
            <list>
                <!--3 is for dpdimd5, 2 for dpidsha1-->
                <value>3</value>
                <value>2</value>
            </list>
        </constructor-arg>
    </bean>

    <bean id="creative_floor_matching_rtb_exchange_two_dot_zero" class="com.kritter.adserving.shortlisting.core.CreativeAndFloorMatchingRTBExchangeTwoDotZero">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="creative_banner_cache"/></constructor-arg>
        <constructor-arg index="2"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="creative_slot_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="campaign_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="creative_slot_size_cache"/></constructor-arg>
        <constructor-arg index="7" value="ad-nofill-map"/>
        <constructor-arg index="8">
            <list>
                <!--3 is for dpdimd5, 2 for dpidsha1-->
                <value>3</value>
                <value>2</value>
            </list>
        </constructor-arg>
    </bean>

    <bean id="state_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.StateTargetingMatcher">
        <constructor-arg index="0" value="state_targeting_matcher"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2" value="ad-nofill-map"/>
        <constructor-arg index="3"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="state_detector"/></constructor-arg>
        <constructor-arg index="5"><ref bean="ui_state_id_cache"/></constructor-arg>
    </bean>
    
    <bean id="city_targeting" class="com.kritter.adserving.shortlisting.targetingmatcher.CityTargetingMatcher">
        <constructor-arg index="0" value="city_targeting_matcher"/>
        <constructor-arg index="1" value="adserving.application"/>
        <constructor-arg index="2" value="ad-nofill-map"/>
        <constructor-arg index="3"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="city_detector"/></constructor-arg>
        <constructor-arg index="5"><ref bean="ui_city_id_cache"/></constructor-arg>
    </bean>

    <!-- Targeting targetingmatcher end. -->

    <!-- RequestEnrichers begin. -->
    <bean id="direct_pub_request_enricher" class="com.kritter.adserving.request.enricher.DirectPublisherRequestEnricher">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="ua"/>
        <constructor-arg index="2" value="opera mini"/>
        <constructor-arg index="3">
            <list>
                 <value><![CDATA[x-operamini-phone-ua]]></value>
                 <value><![CDATA[x-opera-mini-phone-us]]></value>
                 <value><![CDATA[x-device-user-agent]]></value>
            </list>
        </constructor-arg>
        <constructor-arg index="4" value="REMOTE_ADDR"/>
        <constructor-arg index="5" value="X-Forwarded-For"/>
        <constructor-arg index="6">
            <list>
                 <value><![CDATA[10.]]></value>
                 <value><![CDATA[192.]]></value>
                 <value><![CDATA[127.]]></value>
                 <value><![CDATA[172.]]></value>
                 <value><![CDATA[169.]]></value>
                 <value><![CDATA[198.]]></value>
                 <value><![CDATA[100.]]></value>
            </list>
        </constructor-arg>
        <constructor-arg index="7" value="site-id"/>
        <constructor-arg index="8" value="nads"/>
        <constructor-arg index="9" value="lat"/>
        <constructor-arg index="10" value="lon"/>
        <constructor-arg index="11" value="ver"/>
        <constructor-arg index="12" value="k-adv-ida"/>
        <constructor-arg index="13"><ref bean="site_cache"/></constructor-arg>
        <constructor-arg index="14"><ref bean="handset_detector"/></constructor-arg>
        <constructor-arg index="15"><ref bean="country_detector"/></constructor-arg>
        <constructor-arg index="16"><ref bean="isp_detector"/></constructor-arg>
        <constructor-arg index="17" value="k-uid"/>
    </bean> 

    <bean id="aggregator_pub_request_enricher" class="com.kritter.adserving.request.enricher.AggregatorRequestEnricher">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="ua"/>
        <constructor-arg index="2" value="opera mini"/>
        <constructor-arg index="3">
            <list>
                 <value><![CDATA[x-operamini-phone-ua]]></value>
                 <value><![CDATA[x-opera-mini-phone-us]]></value>
                 <value><![CDATA[x-device-user-agent]]></value>
            </list>
        </constructor-arg>
        <constructor-arg index="4" value="ip"/>
        <constructor-arg index="5" value="X-Forwarded-For"/>
        <constructor-arg index="6">
            <list>
                 <value><![CDATA[10.]]></value>
                 <value><![CDATA[192.]]></value>
                 <value><![CDATA[127.]]></value>
                 <value><![CDATA[172.]]></value>
                 <value><![CDATA[169.]]></value>
                 <value><![CDATA[198.]]></value>
                 <value><![CDATA[100.]]></value>
            </list>
        </constructor-arg>
        <constructor-arg index="7" value="site-id"/>
        <constructor-arg index="8" value="ver"/>
        <constructor-arg index="9" value="fmt"/>
        <constructor-arg index="10" value="nads"/>
        <constructor-arg index="11" value="plat"/>
        <constructor-arg index="12" value="uid"/>
        <constructor-arg index="13" value="lat"/>
        <constructor-arg index="14" value="lon"/>
        <constructor-arg index="15"><ref bean="site_cache"/></constructor-arg>
        <constructor-arg index="16"><ref bean="handset_detector"/></constructor-arg>
        <constructor-arg index="17"><ref bean="country_detector"/></constructor-arg>
        <constructor-arg index="18"><ref bean="isp_detector"/></constructor-arg>
        <constructor-arg index="19" value="rm"/>
        <constructor-arg index="20" value="w"/>
        <constructor-arg index="21" value="h"/>
        <constructor-arg index="22" value="bp"/>
    </bean>

    <bean id="mopub_bid_request_reader_2_3" class="com.kritter.bidreqres.reader.mopub2_3.BidRequestReaderMopub">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="mopub-pub-guid"/>
    </bean>
    <bean id="cloud_cross_bid_request_reader_4_4_4" class="com.kritter.bidreqres.reader.cloudcross4_4_4.BidRequestReaderCloudCross">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="cloud-cross-guid"/>
    </bean>

    <bean id="mopub_request_enricher_2_3" class="com.kritter.adexchange.mopub.enricher.MoPubRequestEnricher2_3">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="mopub_bid_request_reader_2_3"/></constructor-arg>
        <constructor-arg index="2"><ref bean="site_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="handset_detector"/></constructor-arg>
        <constructor-arg index="4"><ref bean="iab_categories_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="mnc_mcc_data_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="country_detector"/></constructor-arg>
        <constructor-arg index="7"><ref bean="isp_detector"/></constructor-arg>
    </bean>

    <bean id="cloud_cross_request_enricher_4_4_4" class="com.kritter.adexchange.cloudcross.enricher.CloudCrossRequestEnricher4_4_4">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="cloud_cross_bid_request_reader_4_4_4"/></constructor-arg>
        <constructor-arg index="2"><ref bean="site_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="handset_detector"/></constructor-arg>
        <constructor-arg index="4"><ref bean="iab_categories_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="mnc_mcc_data_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="country_detector"/></constructor-arg>
        <constructor-arg index="7"><ref bean="isp_detector"/></constructor-arg>
    </bean>

    <bean id="openrtbaggregator_pub_request_enricher" class="com.kritter.adserving.request.enricher.OpenRTBTwoDotThreeAggregatorRequestEnricher">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="bid.req.logger"/>
        <constructor-arg index="2"><ref bean="req_logging_cache"/></constructor-arg>
        <constructor-arg index="3"><ref bean="site_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="handset_detector"/></constructor-arg>
        <constructor-arg index="5"><ref bean="country_detector"/></constructor-arg>
        <constructor-arg index="6"><ref bean="isp_detector"/></constructor-arg>
        <constructor-arg index="7"><null /></constructor-arg>
    </bean>

    <bean id="rtb_exchange_request_enricher" class="com.kritter.adserving.request.enricher.RTBExchangeRequestEnricher">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1">
            <map>
                <entry key="mopub-pub-guid" value-ref="mopub_request_enricher_2_3"/>
                <entry key="youku" value-ref="youku_request_enricher"/>
                <entry key="cloud-cross-guid" value-ref="cloud_cross_request_enricher_4_4_4"/>
                <entry key="valuemaker" value-ref="valuemaker_request_enricher"/>
            </map>
        </constructor-arg>
        <constructor-arg index="2" value="bid.req.logger"/>
        <constructor-arg index="3"><ref bean="req_logging_cache"/></constructor-arg>
    </bean>

    <!-- RequestEnrichers end. -->

    <!-- AdExchange Response creators -->
    <bean id="mopub_response_creator_2_3" class="com.kritter.bidreqres.response_creator.mopub2_3.BidRequestResponseCreatorMopub">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="server_config"/></constructor-arg>
        <constructor-arg index="2" value="CH-UMMA-TECH-IES-KR-I-TTER"/>
        <constructor-arg index="3" value="1"/>
        <constructor-arg index="4"><value><![CDATA[&aid=${AUCTION_ID}&abid=${AUCTION_BID_ID}&aimpid=${AUCTION_IMP_ID}&p=${AUCTION_PRICE}&bp=${BIDDER_PRICE}]]></value></constructor-arg>
        <constructor-arg index="5" value="${BIDDER_PRICE}"/>
        <constructor-arg index="6"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="7"><ref bean="iab_categories_cache"/></constructor-arg>
    </bean>
    <bean id="cloud_cross_response_creator_4_4_4" class="com.kritter.bidreqres.response_creator.cloudcross4_4_4.BidRequestResponseCreatorCloudCross">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="server_config"/></constructor-arg>
        <constructor-arg index="2" value="CH-UMMA-TECH-IES-KR-I-TTER"/>
        <constructor-arg index="3" value="1"/>
        <constructor-arg index="4"><value><![CDATA[&abid=${AUCTION_BID_ID}&aimpid=${AUCTION_IMP_ID}&p=${AUCTION_PRICE}&bp=${BIDDER_PRICE}]]></value></constructor-arg>
        <constructor-arg index="5" value="${BIDDER_PRICE}"/>
        <constructor-arg index="6"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="7"><ref bean="iab_categories_cache"/></constructor-arg>
    </bean>
    <!-- AdExchange Response creators end here -->

    <!--Adserving Request processor -->
    <bean id="adserving_request_processor" class="com.kritter.adserving.request.reader.RequestProcessor">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="KRITTER_INVENTORY_SRC"/>
        <constructor-arg index="2"><ref bean="direct_pub_request_enricher"/></constructor-arg>
        <constructor-arg index="3"><ref bean="aggregator_pub_request_enricher"/></constructor-arg>
        <constructor-arg index="4"><ref bean="rtb_exchange_request_enricher"/></constructor-arg>
        <constructor-arg index="5">
            <list>
            </list>
        </constructor-arg>
        <constructor-arg index="6"><ref bean="openrtbaggregator_pub_request_enricher"/></constructor-arg>
    </bean>

    <!-- Creative formatters being. -->
    <bean id="creative_xhtml_formatter" class="com.kritter.adserving.formatting.XHTMLFormatter">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="CH-UMMA-TECH-IES-KR-I-TTER"/>
        <constructor-arg index="2" value="1"/>
        <constructor-arg index="3"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="server_config"/></constructor-arg>
    </bean>

    <bean id="creative_xml_formatter" class="com.kritter.adserving.formatting.XMLFormatter">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="CH-UMMA-TECH-IES-KR-I-TTER"/>
        <constructor-arg index="2" value="1"/>
        <constructor-arg index="3"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="creative_slot_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="server_config"/></constructor-arg>
    </bean>

    <bean id="creative_json_formatter" class="com.kritter.adserving.formatting.JSONFormatter">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="CH-UMMA-TECH-IES-KR-I-TTER"/>
        <constructor-arg index="2" value="1"/>
        <constructor-arg index="3"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="creative_slot_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="server_config"/></constructor-arg>
    </bean>
    
    <bean id="vast_formatter" class="com.kritter.adserving.formatting.VASTFormatter">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="CH-UMMA-TECH-IES-KR-I-TTER"/>
        <constructor-arg index="2" value="1"/>
        <constructor-arg index="3"><ref bean="creative_cache"/></constructor-arg>
        <constructor-arg index="4"><ref bean="ad_entity_cache"/></constructor-arg>
        <constructor-arg index="5"><ref bean="server_config"/></constructor-arg>
    </bean>
    <!-- Creative formatters end. -->

    <!-- Country detector modelled as cache to reload data at configured frequency-->
    <bean id="country_detector" class="com.kritter.geo.common.entity.reader.CountryDetectionCache">
            <constructor-arg index="0" value="cache.logger"/>
            <constructor-arg index="1">
                <map>
                    <entry key="madhouse" value="/var/data/kritter/location/country/kritter_country.csv"/>
                </map>
            </constructor-arg>
            <constructor-arg index="2">
                <list>
                    <value>madhouse</value>
                </list>
            </constructor-arg>
            <constructor-arg index="3" value="1800000"/>
    </bean>
 
    <!-- ISP detector modelled as cache to reload data at configured frequency-->
    <bean id="isp_detector" class="com.kritter.geo.common.entity.reader.ISPDetectionCache">
            <constructor-arg index="0" value="cache.logger"/>
            <constructor-arg index="1">
                <map>
                    <entry key="madhouse" value="/var/data/kritter/location/country/kritter_isp.csv"/>
                </map>
            </constructor-arg>
            <constructor-arg index="2">
                <list>
                    <value>madhouse</value>
                </list>
            </constructor-arg>
            <constructor-arg index="3" value="1800000"/>
    </bean>

    <bean id="state_detector" class="com.kritter.geo.common.entity.reader.StateDetectionCache">
        <constructor-arg index="0" value="cache.logger"/>
        <constructor-arg index="1">
            <map>
                <entry key="madhouse" value="/var/data/kritter/location/country/kritter_state.csv"/>
            </map>
        </constructor-arg>
        <constructor-arg index="2">
            <list>
                <value>madhouse</value>
            </list>
        </constructor-arg>
        <constructor-arg index="3" value="1800000"/>
    </bean>

    <bean id="city_detector" class="com.kritter.geo.common.entity.reader.CityDetectionCache">
        <constructor-arg index="0" value="cache.logger"/>
        <constructor-arg index="1">
            <map>
                <entry key="madhouse" value="/var/data/kritter/location/country/kritter_city.csv"/>
            </map>
        </constructor-arg>
        <constructor-arg index="2">
            <list>
                <value>madhouse</value>
            </list>
        </constructor-arg>
        <constructor-arg index="3" value="1800000"/>
    </bean>
    <!-- Custom ip detector modelled as cache to reload data at configured frequency. -->
    <bean id="custom_ip_detector" class="com.kritter.geo.common.entity.reader.CustomIPFileDetectionCache">
            <constructor-arg index="0" value="cache.logger"/>
            <constructor-arg index="1" value="select custom_ip_file_id_set from ad,targeting_profile where ad.targeting_guid = targeting_profile.guid and ad.status_id = 1 and targeting_profile.status_id = 1"/>
            <constructor-arg index="2"><ref bean="db-manager"/></constructor-arg>
            <constructor-arg index="3" value="/var/data/kritter/location/"/>
            <constructor-arg index="4" value="300000"/>
    </bean>

    <bean id="lat_lon_file_detector" class="com.kritter.geo.common.entity.reader.FileBasedLatLonDetectionCache">
            <constructor-arg index="0" value="cache.logger"/>
            <constructor-arg index="1" value="select lat_lon_radius_file from ad,targeting_profile where ad.targeting_guid = targeting_profile.guid and ad.status_id = 1 and targeting_profile.status_id = 1"/>
            <constructor-arg index="2"><ref bean="db-manager"/></constructor-arg>
            <constructor-arg index="3" value="/var/data/kritter/location/"/>
            <constructor-arg index="4" value="300000"/>
    </bean>

    <bean id="zip_code_detector" class="com.kritter.geo.common.entity.reader.ZipCodeDetectionCache">
            <constructor-arg index="0" value="cache.logger"/>
            <constructor-arg index="1">
                <list>
                    <value>geonames</value>
                </list>
            </constructor-arg>
            <constructor-arg index="2"><ref bean="db-manager"/></constructor-arg>
            <constructor-arg index="3" value="3600000"/>
    </bean>
    
    <bean id="zip_code_file_cache" class="com.kritter.geo.common.entity.reader.ZipCodeFileDataCache">
            <constructor-arg index="0" value="cache.logger"/>
            <constructor-arg index="1" value="select zipcode_file_id_set from ad,targeting_profile where ad.targeting_guid = targeting_profile.guid and ad.status_id = 1 and targeting_profile.status_id = 1"/>
            <constructor-arg index="2"><ref bean="db-manager"/></constructor-arg>
            <constructor-arg index="3" value="/var/data/kritter/location/"/>
            <constructor-arg index="4" value="300000"/>
    </bean>

    <!-- data loader for geo data and specific third party data loaders-->
    <bean id="geo_data_loader" class="com.kritter.geo.entity.populator.DataLoaderExecutor">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1">
            <list>
                <ref bean="openrtb_country_isp_data_loader"/>
                <ref bean="kritter_country_data_loader"/>
                <ref bean="kritter_state_data_loader"/>
                <ref bean="kritter_city_data_loader"/>
            </list>
        </constructor-arg>
        <constructor-arg index="2" value="adserver-data-load-master-node"/>
        <constructor-arg index="3"><ref bean="server_config"/></constructor-arg>
    </bean>

    <bean id="openrtb_country_isp_data_loader" class="com.kritter.openrtb.loader.OpenRTBCountryISPDataLoader">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="openrtb"/>
        <constructor-arg index="2" value="3600000"/>
        <constructor-arg index="3"><ref bean="db-manager"/></constructor-arg>
        <constructor-arg index="4" value="500"/>
    </bean>

    <bean id="isp_mappings_loader" class="com.kritter.geo.common.entity.writer.IspMappingsLoader">
        <constructor-arg index="0" value="cache.logger"/>
        <constructor-arg index="1"><ref bean="db-manager"/></constructor-arg>
        <constructor-arg index="2">
            <list>
                <value>openrtb</value>
                <value>madhouse</value>
            </list>
        </constructor-arg>
        <constructor-arg index="3" value="1000"/>
        <constructor-arg index="4" value="1800000"/>
        <constructor-arg index="5"><ref bean="server_config"/></constructor-arg>
        <constructor-arg index="6" value="adserver-data-load-master-node"/>
    </bean>

    <bean id="handset_data_populator" class="com.kritter.device.mad.MadDataPopulator">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="/var/data/kritter/location/mad/"/>
        <constructor-arg index="2" value="300000"/>
        <constructor-arg index="3"><ref bean="db-manager"/></constructor-arg>
        <constructor-arg index="4" value="adserver-data-load-master-node"/>
        <constructor-arg index="5"><ref bean="server_config"/></constructor-arg>
    </bean>

    <bean id="kritter_country_data_loader" class="com.kritter.thirdpartydata.loader.ThirdpartydataCountryDataLoader">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="madhouse"/>
        <constructor-arg index="2" value="3600000"/>
        <constructor-arg index="3" value="/var/data/kritter/location/country/kritter_country_input.csv"/>
        <constructor-arg index="4" value="/var/data/kritter/location/country/kritter_country.csv"/>
        <constructor-arg index="5" value="/var/data/kritter/location/country/kritter_country_prep.csv"/>
        <constructor-arg index="6"><ref bean="db-manager"/></constructor-arg>
        <constructor-arg index="7" value="1000"/>
        <constructor-arg index="8" value="0"/>
    </bean>

    <bean id="kritter_state_data_loader" class="com.kritter.thirdpartydata.loader.ThirdpartydataStateDataLoader">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="madhouse"/>
        <constructor-arg index="2" value="3600000"/>
        <constructor-arg index="3" value="/var/data/kritter/location/country/kritter_state_input.csv"/>
        <constructor-arg index="4" value="/var/data/kritter/location/country/kritter_state.csv"/>
        <constructor-arg index="5" value="/var/data/kritter/location/country/kritter_state_prep.csv"/>
        <constructor-arg index="6"><ref bean="db-manager"/></constructor-arg>
        <constructor-arg index="7"><ref bean="ui_country_id_cache"/></constructor-arg>
        <constructor-arg index="8" value="1000"/>
        <constructor-arg index="9" value="0"/>
    </bean>

    <bean id="kritter_city_data_loader" class="com.kritter.thirdpartydata.loader.ThirdpartydataCityDataLoader">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="madhouse"/>
        <constructor-arg index="2" value="3600000"/>
        <constructor-arg index="3" value="/var/data/kritter/location/country/kritter_city_input.csv"/>
        <constructor-arg index="4" value="/var/data/kritter/location/country/kritter_city.csv"/>
        <constructor-arg index="5" value="/var/data/kritter/location/country/kritter_city_prep.csv"/>
        <constructor-arg index="6"><ref bean="db-manager"/></constructor-arg>
        <constructor-arg index="7"><ref bean="ui_state_id_cache"/></constructor-arg>
        <constructor-arg index="8" value="1000"/>
        <constructor-arg index="9" value="0"/>
    </bean>

    <!-- Other beans for ecpm calculation, online bidder and ranking -->    
    <bean id="basic_real_time_bidder" class="com.kritter.bidder.online.bidcalculator.BasicRealTimeBidder">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1"><ref bean="offline_bidder_data_cache"/></constructor-arg>
        <constructor-arg index="2" value="1"/>
    </bean>

    <bean id="wrs_ecpm_ranker" class="com.kritter.adserving.ad_rank_select.wrs_ecpm.WRSBasedOnEcpmSelection">
        <constructor-arg index="0" value="adserving.application"/>
        <!--Number of ads to select, keeping upto max 3-->
        <constructor-arg index="1" value="1"/>
    </bean>

    <bean id="random_ecpm_ranker" class="com.kritter.adserving.ad_rank_select.random_ecpm.RandomEcpmSelection">
        <constructor-arg index="0" value="adserving.application"/>
        <!--Number of ads to select, keeping upto max 3-->
        <constructor-arg index="1" value="1"/>
    </bean>

    <bean id="top_ecpm_ranker" class="com.kritter.adserving.ad_rank_select.top_ecpm.TopEcpmSelection">
        <constructor-arg index="0" value="adserving.application"/>
        <!--Number of ads to select, keeping upto max 3-->
        <constructor-arg index="1" value="1"/>
    </bean>
     
    <bean id="synchronous_http_client" class="com.kritter.utils.http_client.SynchronousHttpClient">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="20"/>
    </bean>

    <bean id="site_meta_data_loader" class="com.kritter.common.site.cache.SiteMetaDataLoader">
        <constructor-arg index="0" value="adserving.application"/>
        <constructor-arg index="1" value="300000"/>
        <constructor-arg index="2" value="adserver-data-load-master-node"/>
        <constructor-arg index="3"><ref bean="server_config"/></constructor-arg>
        <constructor-arg index="4"><ref bean="db-manager"/></constructor-arg>
        <constructor-arg index="5"><ref bean="site_meta_data_cache"/></constructor-arg>
        <constructor-arg index="6"><ref bean="synchronous_http_client"/></constructor-arg>
        <constructor-arg index="7" value="5000"/>
        <constructor-arg index="8" value="1000"/>
    </bean>

    <bean id="user_in_memory_db" class="com.kritter.utils.nosql.common.impl.InMemoryCache">
    </bean>

    <bean id="user_aerospike_db" class="com.kritter.utils.nosql.aerospike.AerospikeNoSqlNamespaceOperations">
        <constructor-arg index="0" value="postimpression.application"/>
        <constructor-arg index="1" value="aerospike.mad.com"/>
        <constructor-arg index="2" value="3000"/>
        <constructor-arg index="3" value="3"/>
        <constructor-arg index="4" value="20"/>
    </bean>
</beans>
