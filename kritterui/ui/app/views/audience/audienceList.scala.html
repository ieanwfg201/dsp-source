@(audienceListDisplay:models.audience.AudienceListDisplay)
@main2("Audience List"){@navs.navadvt(audienceListDisplay.getAccountGuid())}{@navs.breadcrumbs(audienceListDisplay.getBreadCrumbPaths())}{

    @components.containers.panel("Audience List"){
        <div class="well" ng-controller="audienceListController">
            <div class="btn-group">
                <a href="@{ audienceListDisplay.addAudienceUrl()}" class="btn btn-primary   active" role="button">Add Audience</a>
            </div>
            <div infinite-scroll='nextPage()' infinite-scroll-disabled='audienceListData.isLoading' infinite-scroll-distance='1'>
                <table tr-ng-grid="" class="table-condensed" items="audienceListData.filteredData"
                selected-items="audienceListData.selections"
                fields="['name',  'createdOn',  'action']"
                selection-mode="SingleRow"
                enable-filtering="audienceListData.enableFilter"
                enable-sorting="audienceListData.enableSorting"
                order-by="audienceListData.orderBy"
                order-by-reverse="audienceListData.orderByReverse"
                page-items="audienceListData.itemsPerPage"
                total-items="audienceListData.totalItems"
                current-page="audienceListData.currentPage"
                on-data-required="audienceListData.updateData(currentPage, pageItems, filterBy, filterByFields, orderBy, orderByReverse)" >

                    <thead>
                        <tr>
                            <th field-name="name" display-name="Name" enable-sorting="true" enable-filtering="true" >  </th>
                            <th field-name="created" display-name="Created" enable-sorting="true"  enable-filtering="true">  </th>
                            <th field-name="action" display-name="Action" enable-sorting="false" >  </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td field-name="name"  >  <a href="{{gridItem.viewUrl}}" >{{gridItem.name}}</a></td>
                            <td field-name="action" >
                                <a href="{{gridItem.editUrl}}" class="btn btn-default " role="button" data-toggle="tooltip" data-placement="top" title="Edit Targeting Profile">
                                    <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                </a>
                                <a href="{{gridItem.viewUrl}}" class="btn btn-default " role="button" data-toggle="tooltip" data-placement="top" title="View Targeting Profile">
                                    <i class="fa fa-eye"></i>
                                </a>
                            </td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    }



    <script src="@routes.Assets.at("javascripts/apps/audienceListController.js")" type="text/javascript"></script>
}